(this.webpackJsonpmynearbyplaces=this.webpackJsonpmynearbyplaces||[]).push([[0],{28:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),i=n.n(a),c=n(21),r=n.n(c),u=(n(28),n(15)),o=n(4),d=n(2),b=n(7),j=n(8),l=n(10),h=n(9),p=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(b.a)(this,n),(s=t.call(this,e)).loginCheck=function(){s.setState({loggedIn:!0})},s.state={loggedIn:!1,username:""},s}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t="",n=this.props.location;return""===this.state.username&&n&&n.state&&n.state.user&&(t=n.state.user,this.setState({username:t})),Object(s.jsx)("div",{children:""!==this.state.username||!0===this.state.loggedIn?Object(s.jsxs)("div",{children:[Object(s.jsx)(o.b,{to:"/yelp",children:"Continue To MyNearbyPlaces"})," ",this.state.username]}):Object(s.jsx)("div",{children:Object(s.jsx)(o.b,{to:"/login",onClick:function(){return e.loginCheck()},children:"Login to Continue"})})})}}]),n}(i.a.Component),O=n(13),x=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(b.a)(this,n),(s=t.call(this,e)).onSubmit=function(e){s.state.username.trim().length>0&&s.setState({authenticated:!0}),e.preventDefault()},s.onChange=function(e){var t=e.target.value,n=e.target.name;s.setState(Object(O.a)({},n,t))},s.state={username:"",authenticated:!1},s}return Object(j.a)(n,[{key:"render",value:function(){var e={pathname:"/",state:{user:this.state.username}};return this.state.authenticated?Object(s.jsx)(d.a,{to:e}):Object(s.jsx)("div",{children:Object(s.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(s.jsx)("lable",{children:"Username:"}),Object(s.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.onChange}),Object(s.jsx)("button",{type:"submit",children:"Login"})]})})}}]),n}(i.a.Component),f=[],v={findbusinesses:function(e,t,n){return null===e?[]:f.filter((function(s){return v.contains(s.name,e)&&v.contains(s.city,t)&&v.contains(s.state,n)}))?f.filter((function(s){return v.contains(s.name,e)&&v.contains(s.city,t)&&v.contains(s.state,n)})):[]},contains:function(e,t){return e.toLowerCase().includes(t.toLowerCase())},addbusiness:function(e){e.open=!0,e.id=f.length,f.push(e)},updatebusiness:function(e){f[e.id]=e},deleteLocation:function(e){f[e].open=!1},addreview:function(e,t){f[e].reviews.push(t)},allbusinesses:function(){return f},findid:function(e){return f[e]}},m=v,g=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;if(Object(b.a)(this,n),(s=t.call(this,e)).onSubmit=function(e){s.setState({complete:!0});var t={id:s.state.id,name:s.state.name,open:s.state.open,address:s.state.address,city:s.state.city,state:s.state.state,reviews:s.state.reviews};s.state.updated?m.updatebusiness(t):m.addbusiness(t),e.preventDefault()},s.onChange=function(e){s.setState(Object(O.a)({},e.target.name,e.target.value))},s.state={name:"",address:"",city:"",state:"",complete:!1,reviews:[]},"true"===e.updated){console.log(e.updated),s.state.updated=!0;var a=e.location.state.id;s.state.id=m.allbusinesses()[a].id,s.state.name=m.allbusinesses()[a].name,s.state.address=m.allbusinesses()[a].address,s.state.city=m.allbusinesses()[a].city,s.state.state=m.allbusinesses()[a].state,s.state.open=m.allbusinesses()[a].open,s.state.reviews=m.allbusinesses()[a].reviews}return s}return Object(j.a)(n,[{key:"render",value:function(){return this.state.complete?Object(s.jsx)(d.a,{to:"/yelp"}):Object(s.jsxs)("div",{children:[this.state.updated?"update":"Add",Object(s.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(s.jsx)("input",{type:"text",name:"name",value:this.state.name,placeholder:"Location Name",onChange:this.onChange}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"text",name:"address",value:this.state.address,placeholder:"Address",onChange:this.onChange}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"text",name:"city",value:this.state.city,placeholder:"City",onChange:this.onChange}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{type:"text",name:"state",value:this.state.state,placeholder:"State",onChange:this.onChange}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{type:"submit",children:Object(s.jsx)("b",{children:"Save"})})]})]})}}]),n}(i.a.Component),y=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(b.a)(this,n),(s=t.call(this,e)).onSubmit=function(e){m.addreview(s.state.input,s.state.inputTXT),s.setState({input:null})},s.updateReview=function(e){s.setState({inputTXT:e.target.value})},s.addReview=function(e){s.setState({input:e.target.getAttribute("business")})},s.state={ids:e.location.state.locations,input:null,inputTXT:""},s}return Object(j.a)(n,[{key:"render",value:function(){for(var e=this.state.ids.map(m.findid),t=[],n=0;n<e.length;n++){var a=e[n],i=[];0===a.reviews.length?i.push(Object(s.jsx)("div",{children:Object(s.jsx)("i",{children:"There are no reviews yet. Be the first to review!"})})):(i.push(Object(s.jsx)("div",{children:Object(s.jsx)("b",{children:"Reviews for this location"})})),i=i.concat(a.reviews.map((function(e){return Object(s.jsxs)("div",{children:[' "',e,'" ']})})))),t.push(Object(s.jsxs)("div",{children:[Object(s.jsx)("b",{children:a.name})," located at ",Object(s.jsx)("b",{children:a.address}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),i,Object(s.jsx)("button",{onClick:this.addReview,business:a.id,children:"Add a Review"})]}))}return Object(s.jsxs)("div",{children:[t,this.state.input?Object(s.jsxs)("form",{onSubmit:this.onSubmit,children:[" ",Object(s.jsx)("input",{onChange:this.updateReview,type:"text",placeholder:"post your review here!"}),Object(s.jsx)("button",{type:"submit",children:" Post Your Review"})," "]}):"",Object(s.jsx)("br",{}),Object(s.jsx)(o.b,{to:"/yelp",children:"Return to Search"})]})}}]),n}(i.a.Component),C=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(b.a)(this,n),(s=t.call(this,e)).onSubmit=function(e){s.setState({showbusiness:!0}),e.preventDefault()},s.delete=function(e){m.deleteLocation(e.target.getAttribute("business")),s.forceUpdate()},s.search=function(e){var t=e.target.value,n=m.findbusinesses(t,s.state.city,s.state.state);s.setState({businesses:n,input:t})},s.findCity=function(e){var t=e.target.value;s.setState({city:t})},s.findState=function(e){var t=e.target.value;s.setState({state:t})},s.state={input:"",businesses:[],display:!1,city:"",state:""},s}return Object(j.a)(n,[{key:"render",value:function(){var e=this,t=this.state.businesses.filter((function(e){return e.open})),n=t.map((function(e){return e.id})),a=t.map((function(t){return Object(s.jsxs)("div",{children:[t.name,", ",t.address,", ",t.city,", ",t.state," |",Object(s.jsx)(o.b,{to:{pathname:"/update",state:{id:t.id}},children:" Update"}),"| ",Object(s.jsx)("a",{href:"#",onClick:e.delete,business:t.id,children:" delete "}),"|",Object(s.jsx)(o.b,{to:{pathname:"/business",state:{locations:n}},children:" Reviews"})," |"]})}));return 0===a.length&&"Results found",Object(s.jsxs)("div",{children:[Object(s.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(s.jsx)("p",{children:"Please enter a City and State"}),Object(s.jsx)("input",{type:"text",value:this.state.findCity,placeholder:"Enter a City (i.e. Tucson)",onChange:this.findCity}),Object(s.jsx)("input",{type:"text",value:this.state.findState,placeholder:"Enter a State (i.e. AZ)",onChange:this.findState}),Object(s.jsx)("br",{}),Object(s.jsx)("p",{children:"Enter a location to search for"}),Object(s.jsx)("input",{type:"text",value:this.state.input,placeholder:"Enter a business name here.",onChange:this.search})]}),0===a.length?"No businesses found yet":Object(s.jsx)("div",{children:Object(s.jsxs)("b",{children:[a.length," Results Found"]})}),a]})}}]),n}(i.a.Component),S=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var s;return Object(b.a)(this,n),(s=t.call(this,e)).state={username:""},s}return Object(j.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{children:Object(s.jsxs)("div",{children:[Object(s.jsx)(o.b,{to:"/add",children:"Add Location"}),Object(s.jsx)(C,{})]})})}}]),n}(i.a.Component);n(34);var w=function(){return Object(s.jsx)(o.a,{basename:"/mynearbyplaces",children:Object(s.jsxs)(d.d,{children:[Object(s.jsx)(d.b,{exact:!0,path:"/",render:function(e){return Object(s.jsx)(p,Object(u.a)({},e))}}),Object(s.jsx)(d.b,{path:"/login",children:Object(s.jsx)(x,{})}),Object(s.jsx)(d.b,{path:"/add",render:function(e){return Object(s.jsx)(g,Object(u.a)({},e))}}),Object(s.jsx)(d.b,{path:"/update",render:function(e){return Object(s.jsx)(g,Object(u.a)({updated:"true"},e))}}),Object(s.jsx)(d.b,{exact:!0,path:"/business",render:function(e){return Object(s.jsx)(y,Object(u.a)({},e))}}),Object(s.jsx)(d.b,{path:"/search",children:Object(s.jsx)(C,{})}),Object(s.jsx)(d.b,{path:"/yelp",children:Object(s.jsx)(S,{})})]})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),i(e),c(e)}))};r.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(w,{})}),document.getElementById("root")),k()}},[[35,1,2]]]);
//# sourceMappingURL=main.df88bf64.chunk.js.map